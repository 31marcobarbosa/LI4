@{
    ViewData["Title"] = "Home";
}

<!-- Page Content -->
<div class="row">
    <div class="col-lg-12">
        <h1 id="index_header"> What's Yummy? </h1>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <img src="~/images/mascote.png" class="img-responsive yummy-img" alt="Yummy">
    </div>
</div>

<div class="row">
	<div class="col-md-offset-3 col-md-6">
		<form action="Home/About" method="POST">
	        <div class="input-group input-border">
			    <input type="text" name="search_input" class="form-control input-lg main-search-bar" placeholder="O que deseja?" id="transcript">
			    <span class="input-group-btn but-left">
				    <button class="btn btn-secondary main-search-bar-button" type="submit">
					    <i class="fa fa-search" aria-hidden="true"></i>
	                </button>
	            </span>
			    <span class="input-group-btn">
					<button class="btn main-search-bar-button" type="button" onclick="startDictation()">
						<i class="fa fa-microphone" aria-hidden="true"></i>
					</button>
			    </span>
		    </div>
		</form>
	</div>
</div>	

<div class="row">
    <div class="col-lg-12 speech">
        <!-- HTML5 Speech Recognition API -->
        <script>
          function startDictation() {

            if (window.hasOwnProperty('webkitSpeechRecognition')) {

              var recognition = new webkitSpeechRecognition();

              recognition.continuous = false;
              recognition.interimResults = false;

              recognition.lang = "pt-PT";
              recognition.start();

              recognition.onresult = function(e) {
                document.getElementById('transcript').value
                                         = e.results[0][0].transcript;
                recognition.stop();
                document.getElementById('labnol').submit();
              };

              recognition.onerror = function(e) {
                recognition.stop();
              }

            }
          }
        </script>
    </div>
</div>  